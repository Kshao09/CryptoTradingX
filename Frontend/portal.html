<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>CryptoTradingX â€¢ Portal</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="page">
  <header class="topbar">
    <div class="header-left">
      <h1 class="brand">CryptoTradingX</h1>

      <!-- nav tabs live inside the header -->
      <nav class="tabs">
        <button data-view="markets" class="tab active">Markets</button>
        <button data-view="trade"   class="tab">Trade</button>
        <button data-view="orders"  class="tab">Orders</button>
        <button data-view="portfolio" class="tab">Portfolio</button>
      </nav>
    </div>

    <button id="logoutBtn">Logout</button>
  </header>

  <!-- Main content -->
  <main class="content">
    <!-- Markets -->
    <section id="view-markets" class="view active">
      <div class="section-pad">
        <div class="search-wrap">
          <input id="marketSearch" type="search" placeholder="Search by name or symbol (e.g. Bitcoin, BTC)" />
        </div>

        <div class="table-wrap">
          <table class="table table-markets" id="marketsTable">
            <colgroup>
              <col class="market-col" />
              <col class="market-col" />
              <col class="market-col" />
              <col class="market-col" />
              <col class="market-col" />
              <col class="market-col" />
              <col class="market-col" />
              <col class="market-col" />
            </colgroup>
            <thead>
              <tr>
                <th>Symbol</th>
                <th>Name</th>
                <th>Price (USD)</th>
                <th>24h %</th>
                <th>7d %</th>
                <th>30d %</th>
                <th>Volume 24h</th>
                <th>Market Cap</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Trade -->
    <section id="view-trade" class="view">
      <div class="trade-bar">
        <div class="col-span-2">
          <label>Symbol</label>
          <select id="symbol">
            <option>BTC-USD</option>
            <option>ETH-USD</option>
          </select>
        </div>

        <div class="col-span-1">
          <label>Side</label>
          <select id="side">
            <option>BUY</option>
            <option>SELL</option>
          </select>
        </div>

        <div class="col-span-1">
          <label>Type</label>
          <select id="type">
            <option>MARKET</option>
            <option>LIMIT</option>
          </select>
        </div>

        <!-- hidden handled via CSS class -->
        <div class="col-span-2 hidden" id="priceWrap">
          <label>Limit price</label>
          <input id="price" type="number" step="0.01" />
        </div>

        <div class="col-span-1">
          <label>Quantity</label>
          <input id="qty" type="number" step="0.0001" />
        </div>

        <div class="submit-wrap">
          <button class="btn" id="submitOrderBtn">Submit order</button>
        </div>
      </div>

      <p id="tradeMsg" class="msg section-pad"></p>

      <!-- invisible form hook for app.js -->
      <form id="orderForm"></form>
    </section>

    <!-- Orders -->
    <section id="view-orders" class="view">
      <table class="table table-orders" id="ordersTable">
        <colgroup>
          <col class="col-id" />
          <col class="col-symbol" />
          <col class="col-side" />
          <col class="col-type" />
          <col class="col-qty" />
          <col class="col-price" />
          <col class="col-status" />
        </colgroup>
        <thead>
          <tr>
            <th>ID</th><th>Symbol</th><th>Side</th><th>Type</th><th>Qty</th><th>Price</th><th>Status</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Portfolio (interactive chart) -->
    <section id="view-portfolio" class="view">
      <div class="section-pad">
        <div class="portfolio-wrap">
          <div class="portfolio-chart">
            <canvas id="portfolioChart"></canvas>
          </div>
          <div id="portfolioLegend" class="portfolio-legend"></div>
        </div>
      </div>
    </section>
  </main>

  <script src="config.js"></script>
  <script src="utils.js"></script>
  <link rel="stylesheet" href="modal/modal.css" />
  <script src="modal/modal.js"></script>
  <script src="app.js"></script>
  <script>
    // Trigger existing #orderForm submit handler
    document.getElementById('submitOrderBtn')?.addEventListener('click', (e) => {
      e.preventDefault();
      document.getElementById('orderForm').dispatchEvent(new Event('submit', { cancelable: true, bubbles: true }));
    });
  </script>
</body>
</html>
